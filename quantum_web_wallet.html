<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRC Wallet - Quantum Resistant Blockchain</title>
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%2300ff88' rx='20'/></svg>">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif; background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%); color: #ffffff; min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        
        /* Login Screen Styles */
        .login-container { 
            width: 100%; 
            max-width: 400px; 
            background: rgba(255, 255, 255, 0.05); 
            padding: 40px; 
            border-radius: 24px; 
            backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.1); 
            margin-top: 100px;
        }
        .login-logo { text-align: center; margin-bottom: 30px; }
        .login-logo .logo { width: 80px; height: 80px; background: #00ff88; border-radius: 20px; display: inline-flex; align-items: center; justify-content: center; font-size: 36px; font-weight: bold; color: #000; margin-bottom: 20px; }
        .login-title { font-size: 24px; text-align: center; margin-bottom: 10px; }
        .login-subtitle { color: #999; text-align: center; margin-bottom: 30px; }
        .input-group { margin-bottom: 20px; }
        .input-label { display: block; margin-bottom: 8px; color: #999; font-size: 14px; }
        .input-field { width: 100%; padding: 15px; border: 2px solid rgba(255, 255, 255, 0.1); border-radius: 8px; background: rgba(255, 255, 255, 0.05); color: white; font-size: 16px; transition: all 0.3s; }
        .input-field:focus { outline: none; border-color: #00ff88; background: rgba(255, 255, 255, 0.08); }
        .password-toggle { position: relative; }
        .password-toggle-btn { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); background: none; border: none; color: #999; cursor: pointer; font-size: 20px; }
        .error-message { background: rgba(255, 107, 107, 0.1); border: 1px solid #ff6b6b; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; display: none; }
        .success-message { background: rgba(0, 255, 136, 0.1); border: 1px solid #00ff88; padding: 10px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; display: none; }
        
        /* Main App Styles */
        .app-container { width: 100%; display: none; }
        .main-header { width: 100%; max-width: 1200px; display: flex; justify-content: space-between; align-items: center; margin: 0 auto 40px; padding: 20px 0; }
        .logo-section { display: flex; align-items: center; gap: 15px; }
        .logo { width: 50px; height: 50px; background: #00ff88; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #000; }
        .logo-text { font-size: 24px; font-weight: 700; }
        .nav-links { display: flex; gap: 30px; align-items: center; }
        .nav-link { color: #999; text-decoration: none; transition: color 0.3s; font-size: 14px; cursor: pointer; }
        .nav-link:hover { color: #00ff88; }
        .user-menu { display: flex; align-items: center; gap: 20px; }
        .user-info { display: flex; align-items: center; gap: 10px; padding: 8px 16px; background: rgba(255, 255, 255, 0.05); border-radius: 20px; }
        .user-avatar { width: 32px; height: 32px; background: #00ff88; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: #000; }
        .logout-btn { background: none; border: 1px solid #ff6b6b; color: #ff6b6b; padding: 8px 16px; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
        .logout-btn:hover { background: #ff6b6b; color: white; }
        .network-indicator { display: flex; align-items: center; gap: 8px; background: rgba(0, 255, 136, 0.1); padding: 8px 16px; border-radius: 20px; font-size: 12px; }
        .network-dot { width: 8px; height: 8px; background: #00ff88; border-radius: 50%; animation: pulse 2s infinite; }
        .main-content { width: 100%; max-width: 1200px; display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin: 0 auto 40px; }
        .stats-section { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .stat-card { background: rgba(255, 255, 255, 0.05); padding: 24px; border-radius: 16px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); transition: all 0.3s ease; }
        .stat-card:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.08); }
        .stat-value { font-size: 32px; font-weight: 700; color: #00ff88; margin-bottom: 5px; }
        .stat-label { font-size: 12px; color: #999; text-transform: uppercase; letter-spacing: 1px; }
        .wallet-section { background: rgba(255, 255, 255, 0.05); padding: 40px; border-radius: 24px; backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3); }
        .wallet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .wallet-title { font-size: 20px; font-weight: 600; }
        .wallet-actions { display: flex; gap: 10px; }
        .action-btn { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); color: white; padding: 8px 16px; border-radius: 8px; cursor: pointer; transition: all 0.3s; font-size: 14px; }
        .action-btn:hover { background: rgba(255, 255, 255, 0.1); transform: translateY(-2px); }
        .balance-section { margin-bottom: 30px; }
        .balance-label { font-size: 14px; color: #999; margin-bottom: 10px; }
        .balance-amount { font-size: 48px; font-weight: 700; color: #00ff88; margin-bottom: 10px; }
        .balance-usd { font-size: 18px; color: #999; }
        .wallet-display { background: rgba(0, 0, 0, 0.3); padding: 20px; border-radius: 12px; margin-bottom: 30px; }
        .wallet-label { font-size: 12px; color: #999; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .wallet-address-container { display: flex; align-items: center; gap: 10px; }
        .wallet-address { font-family: monospace; font-size: 14px; color: #00ff88; flex: 1; cursor: pointer; word-break: break-all; }
        .copy-btn { background: rgba(0, 255, 136, 0.2); border: 1px solid #00ff88; color: #00ff88; padding: 6px 12px; border-radius: 6px; cursor: pointer; transition: all 0.3s; font-size: 12px; }
        .copy-btn:hover { background: #00ff88; color: #000; }
        
        /* Buttons */
        .button { width: 100%; padding: 15px; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 10px; }
        .button-primary { background: linear-gradient(135deg, #00ff88 0%, #00cc6e 100%); color: #000; }
        .button-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 30px rgba(0, 255, 136, 0.3); }
        .button-secondary { background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.2); }
        .button-secondary:hover { background: rgba(255, 255, 255, 0.15); }
        
        /* Modals */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px); z-index: 1000; align-items: center; justify-content: center; }
        .modal-content { background: #1a1a3e; padding: 40px; border-radius: 24px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; position: relative; border: 1px solid rgba(255, 255, 255, 0.1); }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .modal-title { font-size: 24px; font-weight: 600; }
        .close-modal { background: none; border: none; color: #999; font-size: 32px; cursor: pointer; transition: color 0.3s; }
        .close-modal:hover { color: #fff; }
        
        /* Notification */
        .notification { position: fixed; top: 20px; right: 20px; padding: 16px 24px; border-radius: 8px; font-size: 14px; font-weight: 500; display: flex; align-items: center; gap: 10px; transform: translateX(400px); transition: transform 0.3s ease; z-index: 10000; }
        .notification.show { transform: translateX(0); }
        .notification.success { background: #00ff88; color: #000; }
        .notification.error { background: #ff6b6b; color: white; }
        .notification.warning { background: #ffa500; color: #000; }
        .notification.info { background: #0099ff; color: white; }
        
        /* Security Tab */
        .algorithm-badge { display: inline-flex; align-items: center; gap: 8px; background: rgba(0, 255, 136, 0.1); padding: 12px 20px; border-radius: 12px; margin-bottom: 20px; }
        .badge-icon { width: 20px; height: 20px; background: #00ff88; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #000; font-weight: bold; }
        .security-status { display: flex; align-items: center; gap: 10px; background: rgba(255, 255, 255, 0.05); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; font-size: 14px; }
        .security-icon { font-size: 20px; }
        
        /* Founder Badge */
        .founder-badge { 
            background: linear-gradient(45deg, #ffd700, #ff6b6b); 
            color: #000; 
            padding: 4px 12px; 
            border-radius: 20px; 
            font-size: 12px; 
            font-weight: bold;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.2); opacity: 0.8; } }
        @keyframes slideIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
        
        @media (max-width: 968px) { 
            .main-content { grid-template-columns: 1fr; } 
            .main-header { flex-direction: column; gap: 20px; }
            .nav-links { flex-wrap: wrap; justify-content: center; }
        }
        @media (max-width: 768px) { 
            .stats-section { grid-template-columns: 1fr; } 
            .wallet-section { padding: 24px; } 
            .balance-amount { font-size: 36px; }
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div class="login-container" id="loginScreen">
        <div class="login-logo">
            <div class="logo">QRC</div>
        </div>
        <h1 class="login-title">Quantum Wallet</h1>
        <p class="login-subtitle">Secure access to your quantum-resistant blockchain</p>
        
        <div class="error-message" id="loginError"></div>
        <div class="success-message" id="loginSuccess"></div>
        
        <div id="loginForm">
            <div class="input-group">
                <label class="input-label">Wallet Password</label>
                <div class="password-toggle">
                    <input type="password" class="input-field" id="walletPassword" placeholder="Enter your secure password">
                    <button class="password-toggle-btn" onclick="togglePassword('walletPassword')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="input-group" id="login2FAField" style="display: none;">
                <label class="input-label">2FA Code</label>
                <input type="text" class="input-field" id="login2FA" placeholder="000000" maxlength="6" style="text-align: center;">
            </div>
            
            <button class="button button-primary" onclick="attemptLogin()">
                <span>🔐</span>
                <span>Unlock Wallet</span>
            </button>
            
            <button class="button button-secondary" onclick="showCreateNewWallet()">
                <span>✨</span>
                <span>Create New Wallet</span>
            </button>
            
            <button class="button button-secondary" onclick="showImportWallet()">
                <span>📥</span>
                <span>Import Existing Wallet</span>
            </button>
        </div>
        
        <div id="createWalletForm" style="display: none;">
            <div class="input-group">
                <label class="input-label">Create Password (min 8 characters)</label>
                <div class="password-toggle">
                    <input type="password" class="input-field" id="newPassword" placeholder="Create a strong password">
                    <button class="password-toggle-btn" onclick="togglePassword('newPassword')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Confirm Password</label>
                <div class="password-toggle">
                    <input type="password" class="input-field" id="confirmPassword" placeholder="Confirm your password">
                    <button class="password-toggle-btn" onclick="togglePassword('confirmPassword')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <button class="button button-primary" onclick="createNewWallet()">
                <span>🚀</span>
                <span>Create Secure Wallet</span>
            </button>
            
            <button class="button button-secondary" onclick="backToLogin()">
                <span>←</span>
                <span>Back to Login</span>
            </button>
        </div>
        
        <div id="importWalletForm" style="display: none;">
            <!-- Two main import options -->
            <div style="margin-bottom: 30px;">
                <button class="button button-secondary" onclick="showAddressImport()" style="width: 100%; margin-bottom: 20px;">
                    <span>🔑</span>
                    <span>Import with Address</span>
                </button>
                
                <button class="button button-secondary" onclick="showSeedImport()" style="width: 100%;">
                    <span>📝</span>
                    <span>Import with Seed Phrase</span>
                </button>
            </div>
            
            <!-- Address Import Section (hidden by default) -->
            <div id="addressImportSection" style="display: none;">
                <div style="margin-bottom: 20px;">
                    <p style="color: #999; text-align: center; margin-bottom: 20px;">Import using your wallet address</p>
                </div>
                
                <div class="input-group">
                    <label class="input-label">Wallet Address</label>
                    <input type="text" class="input-field" id="importAddress" placeholder="QRC...">
                </div>
                
                <div class="input-group">
                    <label class="input-label">Password</label>
                    <div class="password-toggle">
                        <input type="password" class="input-field" id="importAddressPassword" placeholder="Enter your password">
                        <button class="password-toggle-btn" onclick="togglePassword('importAddressPassword')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <button class="button button-primary" onclick="importWithAddress()">
                    <span>🔐</span>
                    <span>Import Wallet</span>
                </button>
                
                <button class="button button-secondary" onclick="backToImportChoice()" style="margin-top: 10px;">
                    <span>←</span>
                    <span>Back</span>
                </button>
            </div>
            
            <!-- Seed Phrase Import Section (hidden by default) -->
            <div id="seedImportSection" style="display: none;">
                <div style="margin-bottom: 20px;">
                    <p style="color: #999; text-align: center; margin-bottom: 20px;">Enter your 24-word recovery phrase</p>
                    <div style="display: flex; justify-content: flex-end; margin-bottom: 10px;">
                        <button class="action-btn" onclick="pasteSeedPhrase()" style="background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 8px 16px; border-radius: 8px; cursor: pointer;">📋 Paste</button>
                    </div>
                </div>
                
                <!-- 24 seed phrase inputs -->
                <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px;">
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">1.</span>
                        <input type="text" class="seed-input" id="seed1" onkeyup="moveToNext(event, 1)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">2.</span>
                        <input type="text" class="seed-input" id="seed2" onkeyup="moveToNext(event, 2)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">3.</span>
                        <input type="text" class="seed-input" id="seed3" onkeyup="moveToNext(event, 3)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">4.</span>
                        <input type="text" class="seed-input" id="seed4" onkeyup="moveToNext(event, 4)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">5.</span>
                        <input type="text" class="seed-input" id="seed5" onkeyup="moveToNext(event, 5)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">6.</span>
                        <input type="text" class="seed-input" id="seed6" onkeyup="moveToNext(event, 6)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">7.</span>
                        <input type="text" class="seed-input" id="seed7" onkeyup="moveToNext(event, 7)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">8.</span>
                        <input type="text" class="seed-input" id="seed8" onkeyup="moveToNext(event, 8)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">9.</span>
                        <input type="text" class="seed-input" id="seed9" onkeyup="moveToNext(event, 9)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">10.</span>
                        <input type="text" class="seed-input" id="seed10" onkeyup="moveToNext(event, 10)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">11.</span>
                        <input type="text" class="seed-input" id="seed11" onkeyup="moveToNext(event, 11)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">12.</span>
                        <input type="text" class="seed-input" id="seed12" onkeyup="moveToNext(event, 12)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">13.</span>
                        <input type="text" class="seed-input" id="seed13" onkeyup="moveToNext(event, 13)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">14.</span>
                        <input type="text" class="seed-input" id="seed14" onkeyup="moveToNext(event, 14)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">15.</span>
                        <input type="text" class="seed-input" id="seed15" onkeyup="moveToNext(event, 15)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">16.</span>
                        <input type="text" class="seed-input" id="seed16" onkeyup="moveToNext(event, 16)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">17.</span>
                        <input type="text" class="seed-input" id="seed17" onkeyup="moveToNext(event, 17)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">18.</span>
                        <input type="text" class="seed-input" id="seed18" onkeyup="moveToNext(event, 18)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">19.</span>
                        <input type="text" class="seed-input" id="seed19" onkeyup="moveToNext(event, 19)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">20.</span>
                        <input type="text" class="seed-input" id="seed20" onkeyup="moveToNext(event, 20)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">21.</span>
                        <input type="text" class="seed-input" id="seed21" onkeyup="moveToNext(event, 21)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">22.</span>
                        <input type="text" class="seed-input" id="seed22" onkeyup="moveToNext(event, 22)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">23.</span>
                        <input type="text" class="seed-input" id="seed23" onkeyup="moveToNext(event, 23)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                    <div style="display: flex; align-items: center; gap: 5px;">
                        <span style="color: #666; font-size: 12px; width: 20px;">24.</span>
                        <input type="text" class="seed-input" id="seed24" onkeyup="moveToNext(event, 24)" style="width: 100%; padding: 10px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 6px; color: white; font-size: 14px;">
                    </div>
                </div>
                
                <!-- Note about seed phrase -->
                <div style="background: rgba(255, 255, 255, 0.05); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
                    <p style="font-size: 12px; color: #999; margin: 0;">
                        ℹ️ If you have your seed phrase, you already have access to your wallet. No password needed - your seed phrase IS your key.
                    </p>
                </div>
                
                <button class="button button-primary" onclick="importExistingWallet()">
                    <span>📥</span>
                    <span>Import with Seed Phrase</span>
                </button>
                
                <button class="button button-secondary" onclick="backToImportChoice()" style="margin-top: 10px;">
                    <span>←</span>
                    <span>Back</span>
                </button>
            </div>
            
            <!-- Back to main login -->
            <button class="button button-secondary" onclick="backToLogin()" style="margin-top: 20px;">
                <span>←</span>
                <span>Back to Login</span>
            </button>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="app-container" id="appContainer">
        <header class="main-header">
            <div class="logo-section">
                <div class="logo">QRC</div>
                <div class="logo-text">Quantum Wallet</div>
            </div>
            
            <nav class="nav-links">
                <a href="#" class="nav-link" onclick="showTab('wallet'); return false;">Wallet</a>
                <a href="#" class="nav-link" onclick="showTab('send'); return false;">Send</a>
                <a href="#" class="nav-link" onclick="showTab('receive'); return false;">Receive</a>
                <a href="#" class="nav-link" onclick="showTab('activity'); return false;">Activity</a>
                <a href="#" class="nav-link" onclick="showTab('security'); return false;">Security</a>
            </nav>
            
            <div class="user-menu">
                <div class="network-indicator">
                    <div class="network-dot"></div>
                    <span>Mainnet</span>
                </div>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <span id="userDisplay">User</span>
                    <div id="founderBadgeHeader" style="display: none;">
                        <span class="founder-badge">👑 FOUNDER</span>
                    </div>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </header>

        <div class="main-content">
            <div class="stats-section">
                <div class="stat-card">
                    <div class="stat-value" id="currentTPS">0</div>
                    <div class="stat-label">Current TPS</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalBlocks">0</div>
                    <div class="stat-label">Total Blocks</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalTransactions">0</div>
                    <div class="stat-label">Transactions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeUsers">0</div>
                    <div class="stat-label">Active Users</div>
                </div>
            </div>

            <div class="wallet-section">
                <div class="wallet-header">
                    <h2 class="wallet-title">Quantum Resistant Wallet</h2>
                    <div id="founderBadgeWallet" style="display: none;">
                        <span class="founder-badge">👑 FOUNDER</span>
                    </div>
                </div>
                
                <div class="security-status">
                    <span class="security-icon">🔒</span>
                    <span id="securityStatusText">Secured with password + encryption</span>
                </div>
                
                <div class="algorithm-badge">
                    <div class="badge-icon">✓</div>
                    <span>Protected by CRYSTALS-Dilithium</span>
                </div>
                
                <div class="wallet-display">
                    <div class="wallet-label">Your Wallet Address</div>
                    <div class="wallet-address-container">
                        <div class="wallet-address" id="walletAddress" onclick="copyAddress()"></div>
                        <button class="copy-btn" onclick="copyAddress()">Copy</button>
                    </div>
                </div>
                
                <div class="balance-section">
                    <div class="balance-label">Total Balance</div>
                    <div class="balance-amount" id="balanceAmount">0.00 QRC</div>
                    <div class="balance-usd" id="balanceUSD">≈ $0.00 USD</div>
                </div>
                
                <div class="wallet-actions">
                    <button class="action-btn" onclick="showSendModal()">Send QRC</button>
                    <button class="action-btn" onclick="showReceiveModal()">Receive</button>
                    <button class="action-btn" onclick="updateBalance()">Refresh</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification" class="notification"></div>

    <script>
        // Configuration
        const FOUNDER_WALLETS = [
            'QRC7K9mN3pX2vB8nQ4jL6wR5tY1aZ9fH3kE-A7F2',
            // Add more founder wallets here
        ];

        // State
        let walletState = {
            address: null,
            balance: 0,
            seedPhrase: null,
            isLoggedIn: false,
            transactions: [],
            twoFactorEnabled: false,
            twoFactorSecret: null
        };
        
        let sessionPassword = '';
        let loginMode = 'password'; // 'password', 'address', 'seedphrase'
        let currentLoginAddress = null;
        let require2FA = false;

        // Word list for seed phrases
        const wordList = ['abandon', 'ability', 'able', 'about', 'above', 'absent', 'absorb', 'abstract', 'absurd', 'abuse', 'access', 'accident', 'account', 'accuse', 'achieve', 'acid', 'acoustic', 'acquire', 'across', 'act', 'action', 'actor', 'actress', 'actual'];

        // Helper Functions
        function showError(message) {
            document.getElementById('loginError').textContent = message;
            document.getElementById('loginError').style.display = 'block';
            setTimeout(() => {
                document.getElementById('loginError').style.display = 'none';
            }, 5000);
        }

        function showSuccess(message) {
            document.getElementById('loginSuccess').textContent = message;
            document.getElementById('loginSuccess').style.display = 'block';
            setTimeout(() => {
                document.getElementById('loginSuccess').style.display = 'none';
            }, 5000);
        }

        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            notification.className = `notification ${type} show`;
            notification.textContent = message;
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            input.type = input.type === 'password' ? 'text' : 'password';
        }

        // New UI Functions
        function showAddressImport() {
            // Hide the choice buttons
            document.querySelectorAll('#importWalletForm > div')[0].style.display = 'none';
            // Show address import section
            document.getElementById('addressImportSection').style.display = 'block';
            document.getElementById('seedImportSection').style.display = 'none';
        }

        function showSeedImport() {
            // Hide the choice buttons
            document.querySelectorAll('#importWalletForm > div')[0].style.display = 'none';
            // Show seed import section
            document.getElementById('addressImportSection').style.display = 'none';
            document.getElementById('seedImportSection').style.display = 'block';
        }

        function backToImportChoice() {
            // Show the choice buttons
            document.querySelectorAll('#importWalletForm > div')[0].style.display = 'block';
            // Hide both import sections
            document.getElementById('addressImportSection').style.display = 'none';
            document.getElementById('seedImportSection').style.display = 'none';
            // Clear inputs
            document.getElementById('importAddress').value = '';
            document.getElementById('importAddressPassword').value = '';
            for (let i = 1; i <= 24; i++) {
                const input = document.getElementById(`seed${i}`);
                if (input) input.value = '';
            }
        }

        // Login Functions with Address Support
        function attemptLogin() {
            const password = document.getElementById('walletPassword').value;
            const twoFACode = document.getElementById('login2FA').value;
            
            // Check if there's an address-based login stored
            const addressLogin = localStorage.getItem('qrcAddressLogin');
            if (addressLogin) {
                const loginData = JSON.parse(addressLogin);
                currentLoginAddress = loginData.address;
                loginMode = 'address';
                
                // Check if it's a founder wallet
                if (FOUNDER_WALLETS.includes(currentLoginAddress)) {
                    require2FA = true;
                    document.getElementById('login2FAField').style.display = 'block';
                    
                    if (!twoFACode) {
                        showError('2FA code required for founder wallet');
                        return;
                    }
                }
                
                // Perform address-based login
                loginWithAddress(currentLoginAddress, password, twoFACode);
                return;
            }
            
            if (!password) {
                showError('Please enter your password');
                return;
            }
            
            // Original password-only login
            try {
                const encrypted = localStorage.getItem('qrcWalletEncrypted');
                if (!encrypted) {
                    showError('No wallet found. Please create a new wallet or import one.');
                    return;
                }
                
                const decrypted = CryptoJS.AES.decrypt(encrypted, password).toString(CryptoJS.enc.Utf8);
                walletState = JSON.parse(decrypted);
                
                sessionPassword = password;
                walletState.isLoggedIn = true;
                showWalletInterface();
                showSuccess('Wallet unlocked successfully');
            } catch (error) {
                showError('Invalid password or corrupted wallet data');
            }
        }

        // New function for address-based login with secure API
        async function loginWithAddress(address, password, twoFACode) {
            try {
                // First, check if it's a founder wallet
                const checkResponse = await fetch('/api/auth/check-wallet', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ address })
                });
                
                const checkData = await checkResponse.json();
                
                if (!checkData.success) {
                    showError('Failed to verify wallet type');
                    return;
                }
                
                // Step 1: Verify password
                const passwordResponse = await fetch('/api/auth/verify-password', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ address, password })
                });
                
                const passwordData = await passwordResponse.json();
                
                if (!passwordData.success) {
                    showError(passwordData.error || 'Invalid password');
                    return;
                }
                
                // If 2FA is required
                if (passwordData.require_2fa) {
                    if (!twoFACode) {
                        // Show 2FA field and store temp token
                        document.getElementById('login2FAField').style.display = 'block';
                        sessionStorage.setItem('tempToken', passwordData.temp_token);
                        showSuccess('Password verified. Please enter your 2FA code.');
                        return;
                    }
                    
                    // Step 2: Verify 2FA
                    const tempToken = sessionStorage.getItem('tempToken');
                    const twoFAResponse = await fetch('/api/auth/verify-2fa', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({
                            temp_token: tempToken,
                            otp: twoFACode,
                            device_id: getDeviceId(),
                            remember_device: false
                        })
                    });
                    
                    const twoFAData = await twoFAResponse.json();
                    
                    if (!twoFAData.success) {
                        showError(twoFAData.error || 'Invalid 2FA code');
                        document.getElementById('login2FA').value = '';
                        return;
                    }
                    
                    // Success - store session and wallet data
                    sessionStorage.setItem('sessionToken', twoFAData.session_token);
                    sessionStorage.removeItem('tempToken');
                    
                    walletState = {
                        ...twoFAData.wallet_data,
                        isLoggedIn: true
                    };
                    
                    sessionPassword = password;
                    localStorage.removeItem('qrcAddressLogin');
                    showWalletInterface();
                    showSuccess('Founder wallet unlocked successfully');
                    
                } else {
                    // Regular wallet - no 2FA required
                    walletState = {
                        ...passwordData.wallet_data,
                        isLoggedIn: true
                    };
                    
                    sessionPassword = password;
                    localStorage.removeItem('qrcAddressLogin');
                    showWalletInterface();
                    showSuccess('Wallet unlocked successfully');
                }
                
            } catch (error) {
                showError('Connection error: ' + error.message);
                console.error('Login error:', error);
            }
        }

        // Helper function to generate device ID
        function getDeviceId() {
            let deviceId = localStorage.getItem('deviceId');
            if (!deviceId) {
                deviceId = 'device_' + Math.random().toString(36).substr(2, 9);
                localStorage.setItem('deviceId', deviceId);
            }
            return deviceId;
        }

        function showCreateNewWallet() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('createWalletForm').style.display = 'block';
        }

        function showImportWallet() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('importWalletForm').style.display = 'block';
        }

        function backToLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('createWalletForm').style.display = 'none';
            document.getElementById('importWalletForm').style.display = 'none';
            document.getElementById('addressImportSection').style.display = 'none';
            document.getElementById('seedImportSection').style.display = 'none';
            document.getElementById('login2FAField').style.display = 'none';
            document.getElementById('login2FA').value = '';
            // Show the choice buttons again
            if (document.querySelectorAll('#importWalletForm > div')[0]) {
                document.querySelectorAll('#importWalletForm > div')[0].style.display = 'block';
            }
        }

        // Import with address
        async function importWithAddress() {
            const address = document.getElementById('importAddress').value;
            const password = document.getElementById('importAddressPassword').value;
            
            if (!address || !password) {
                showError('Please enter both address and password');
                return;
            }
            
            // Store address login info
            localStorage.setItem('qrcAddressLogin', JSON.stringify({
                address: address,
                mode: 'address'
            }));
            
            // Go back to login and attempt login
            backToLogin();
            document.getElementById('walletPassword').value = password;
            
            // Check if founder wallet
            if (FOUNDER_WALLETS.includes(address)) {
                document.getElementById('login2FAField').style.display = 'block';
                showSuccess('Founder wallet detected. Please enter your 2FA code.');
            } else {
                attemptLogin();
            }
        }

        function createNewWallet() {
            const password = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (password.length < 8) {
                showError('Password must be at least 8 characters');
                return;
            }
            
            if (password !== confirmPass) {
                showError('Passwords do not match');
                return;
            }
            
            // Generate seed phrase
            const seedPhrase = generateSeedPhrase();
            
            // Create wallet
            walletState = {
                address: 'QRC' + generateRandomString(32),
                seedPhrase: seedPhrase,
                balance: 1000,
                transactions: [],
                created: Date.now(),
                twoFactorEnabled: false,
                twoFactorSecret: null
            };
            
            // Encrypt and save
            const encrypted = CryptoJS.AES.encrypt(JSON.stringify(walletState), password).toString();
            localStorage.setItem('qrcWalletEncrypted', encrypted);
            
            showSuccess('Wallet created successfully! Please login.');
            setTimeout(() => {
                backToLogin();
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
            }, 2000);
        }

        function importExistingWallet() {
            // Collect seed phrase from individual inputs
            const seedWords = [];
            for (let i = 1; i <= 24; i++) {
                const word = document.getElementById(`seed${i}`)?.value?.trim()?.toLowerCase();
                if (!word) {
                    showError(`Please enter word ${i} of your seed phrase`);
                    document.getElementById(`seed${i}`).focus();
                    return;
                }
                seedWords.push(word);
            }
            
            // Import wallet with seed phrase only (no password needed)
            walletState = {
                address: 'QRC' + generateAddressFromSeed(seedWords.join(' ')),
                seedPhrase: seedWords,
                balance: 0,
                transactions: [],
                imported: Date.now(),
                twoFactorEnabled: false,
                twoFactorSecret: null,
                isLoggedIn: true
            };
            
            // For seed phrase import, we'll use a temporary session
            sessionPassword = 'temp_' + Date.now(); // Temporary session password
            
            // Note: In a real implementation, the seed phrase would be used to derive keys
            // and wouldn't need to be stored
            
            showWalletInterface();
            showSuccess('Wallet imported successfully with seed phrase!');
            
            // Clear the form
            backToImportChoice();
        }

        function showWalletInterface() {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            // Update UI
            document.getElementById('walletAddress').textContent = walletState.address;
            document.getElementById('userAvatar').textContent = walletState.address.substring(3, 4).toUpperCase();
            document.getElementById('userDisplay').textContent = walletState.address.substring(0, 8) + '...';
            
            // Show founder badge if applicable
            if (walletState.isFounder || FOUNDER_WALLETS.includes(walletState.address)) {
                document.getElementById('founderBadgeHeader').style.display = 'inline-block';
                document.getElementById('founderBadgeWallet').style.display = 'inline-block';
                document.getElementById('securityStatusText').textContent = 'Secured with password + 2FA + encryption';
            }
            
            updateBalance();
            updateStats();
            
            // Start periodic updates
            setInterval(updateStats, 5000);
            setInterval(updateBalance, 10000);
        }

        function generateSeedPhrase() {
            const phrase = [];
            for (let i = 0; i < 24; i++) {
                phrase.push(wordList[Math.floor(Math.random() * wordList.length)]);
            }
            return phrase;
        }

        function generateRandomString(length) {
            const chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            let result = '';
            for (let i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        function generateAddressFromSeed(seed) {
            let hash = 0;
            for (let i = 0; i < seed.length; i++) {
                hash = ((hash << 5) - hash) + seed.charCodeAt(i);
                hash = hash & hash;
            }
            return Math.abs(hash).toString(36).toUpperCase().padEnd(32, '0').substring(0, 32);
        }

        function copyAddress() {
            navigator.clipboard.writeText(walletState.address).then(() => {
                showNotification('Address copied to clipboard', 'success');
            });
        }

        function updateBalance() {
            if (!walletState.address) return;
            
            // Simulate balance update - in production, fetch from server
            document.getElementById('balanceAmount').textContent = `${walletState.balance.toFixed(2)} QRC`;
            document.getElementById('balanceUSD').textContent = `≈ ${(walletState.balance * 0.001).toFixed(2)} USD`;
        }

        function updateStats() {
            // Simulate stats - in production, fetch from server
            document.getElementById('currentTPS').textContent = Math.floor(800 + Math.random() * 973);
            document.getElementById('totalBlocks').textContent = Math.floor(Math.random() * 100000);
            document.getElementById('totalTransactions').textContent = Math.floor(Math.random() * 1000000);
            document.getElementById('activeUsers').textContent = Math.floor(Math.random() * 10000);
        }

        function logout() {
            walletState = {
                address: null,
                balance: 0,
                isLoggedIn: false
            };
            sessionPassword = '';
            localStorage.removeItem('qrcAddressLogin');
            
            document.getElementById('loginScreen').style.display = 'flex';
            document.getElementById('appContainer').style.display = 'none';
            
            showNotification('Logged out successfully', 'info');
        }

        function showSendModal() {
            showNotification('Send feature coming soon!', 'info');
        }

        function showReceiveModal() {
            showNotification('Receive feature coming soon!', 'info');
        }

        function showTab(tabName) {
            showNotification(`${tabName} tab coming soon!`, 'info');
        }

        function moveToNext(event, currentIndex) {
            if (event.key === ' ' || event.target.value.length > 2) {
                if (currentIndex < 24) {
                    document.getElementById(`seed${currentIndex + 1}`)?.focus();
                }
            }
        }

        async function pasteSeedPhrase() {
            try {
                const text = await navigator.clipboard.readText();
                const words = text.trim().split(/\s+/);
                
                if (words.length === 24) {
                    words.forEach((word, index) => {
                        const input = document.getElementById(`seed${index + 1}`);
                        if (input) input.value = word.toLowerCase();
                    });
                    showNotification('Seed phrase pasted successfully', 'success');
                } else {
                    showError('Clipboard must contain exactly 24 words');
                }
            } catch (error) {
                showError('Failed to read clipboard');
            }
        }

        // Check for existing session on load
        window.onload = function() {
            document.getElementById('walletPassword').value = '';
            document.getElementById('login2FA').value = '';
            document.getElementById('login2FAField').style.display = 'none';
            
            const hasWallet = localStorage.getItem('qrcWalletEncrypted');
            if (!hasWallet) {
                showNotification('Welcome! Create a new wallet to get started.', 'info');
            }
        };
    </script>
</body>
</html>